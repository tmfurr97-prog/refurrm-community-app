(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54144,e=>{"use strict";let t;var r,n=e.i(17884),s=e.i(85260),a=e.i(87474);e.i(75120);var i=e.i(93349);e.i(411);var o=e.i(79526);e.i(2413);var l=e.i(67409);e.i(27153);var d=e.i(42243);e.i(12823);var c=e.i(22985),u=e.i(48313),m=e.i(24079),f=e.i(39296),p=e.i(47451),h=e.i(2674),x=e.i(3525),v=e.i(16183),g=e.i(34156),y=e.i(67333),b=e.i(6119),j=e.i(49612),N=e.i(11362);function w({type:e,onClose:t}){let r=(0,N.useRouter)();return(0,s.useEffect)(()=>{let e=Date.now()+3e3,t=()=>{Date.now()<e&&requestAnimationFrame(t)};t()},[]),(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)(d.Card,{className:"max-w-md w-full p-8 text-center",children:[(0,n.jsx)(j.CheckCircle,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),(0,n.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"donation"===e?"Thank You!":"Welcome to Pro!"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"donation"===e?"Your donation has been processed successfully. You're helping reunite families with their belongings!":"Your Pro subscription is now active. Enjoy full access to AI scanning, analytics, and priority support!"}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(i.Button,{onClick:()=>r.push("/profile"),className:"flex-1 bg-[#315E47] hover:bg-[#1C2E25]",children:"View Profile"}),(0,n.jsx)(i.Button,{onClick:t||(()=>r.push("/")),variant:"outline",className:"flex-1",children:"Continue"})]})]})})}var C=e.i(64525),E=e.i(55948),D=e.i(60197),R=e.i(89497),P=e.i(51285),F=e.i(66253),S=e.i(86759),L="dismissableLayer.update",O=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),T=s.forwardRef((e,t)=>{let{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:c,...u}=e,m=s.useContext(O),[f,p]=s.useState(null),h=f?.ownerDocument??globalThis?.document,[,x]=s.useState({}),v=(0,E.useComposedRefs)(t,e=>p(e)),g=Array.from(m.layers),[y]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),j=f?g.indexOf(f):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,w=j>=b,C=function(e,t=globalThis?.document){let r=(0,S.useCallbackRef)(e),n=s.useRef(!1),a=s.useRef(()=>{});return s.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){_("dismissableLayer.pointerDownOutside",r,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=n,t.addEventListener("click",a.current,{once:!0})):n()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...m.branches].some(e=>e.contains(t));w&&!r&&(o?.(e),d?.(e),e.defaultPrevented||c?.())},h),R=function(e,t=globalThis?.document){let r=(0,S.useCallbackRef)(e),n=s.useRef(!1);return s.useEffect(()=>{let e=e=>{e.target&&!n.current&&_("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...m.branches].some(e=>e.contains(t))&&(l?.(e),d?.(e),e.defaultPrevented||c?.())},h);return!function(e,t=globalThis?.document){let r=(0,S.useCallbackRef)(e);s.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{j===m.layers.size-1&&(i?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},h),s.useEffect(()=>{if(f)return a&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(r=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(f)),m.layers.add(f),A(),()=>{a&&1===m.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=r)}},[f,h,a,m]),s.useEffect(()=>()=>{f&&(m.layers.delete(f),m.layersWithOutsidePointerEventsDisabled.delete(f),A())},[f,m]),s.useEffect(()=>{let e=()=>x({});return document.addEventListener(L,e),()=>document.removeEventListener(L,e)},[]),(0,n.jsx)(F.Primitive.div,{...u,ref:v,style:{pointerEvents:N?w?"auto":"none":void 0,...e.style},onFocusCapture:(0,D.composeEventHandlers)(e.onFocusCapture,R.onFocusCapture),onBlurCapture:(0,D.composeEventHandlers)(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:(0,D.composeEventHandlers)(e.onPointerDownCapture,C.onPointerDownCapture)})});function A(){let e=new CustomEvent(L);document.dispatchEvent(e)}function _(e,t,r,{discrete:n}){let s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?(0,F.dispatchDiscreteCustomEvent)(s,a):s.dispatchEvent(a)}T.displayName="DismissableLayer",s.forwardRef((e,t)=>{let r=s.useContext(O),a=s.useRef(null),i=(0,E.useComposedRefs)(t,a);return s.useEffect(()=>{let e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,n.jsx)(F.Primitive.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var I="focusScope.autoFocusOnMount",k="focusScope.autoFocusOnUnmount",B={bubbles:!1,cancelable:!0},H=s.forwardRef((e,t)=>{let{loop:r=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[d,c]=s.useState(null),u=(0,S.useCallbackRef)(i),m=(0,S.useCallbackRef)(o),f=s.useRef(null),p=(0,E.useComposedRefs)(t,e=>c(e)),h=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(a){let e=function(e){if(h.paused||!d)return;let t=e.target;d.contains(t)?f.current=t:M(f.current,{select:!0})},t=function(e){if(h.paused||!d)return;let t=e.relatedTarget;null!==t&&(d.contains(t)||M(f.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&M(d)});return d&&r.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[a,d,h.paused]),s.useEffect(()=>{if(d){K.add(h);let e=document.activeElement;if(!d.contains(e)){let t=new CustomEvent(I,B);d.addEventListener(I,u),d.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(M(n,{select:t}),document.activeElement!==r)return}(W(d).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&M(d))}return()=>{d.removeEventListener(I,u),setTimeout(()=>{let t=new CustomEvent(k,B);d.addEventListener(k,m),d.dispatchEvent(t),t.defaultPrevented||M(e??document.body,{select:!0}),d.removeEventListener(k,m),K.remove(h)},0)}}},[d,u,m,h]);let x=s.useCallback(e=>{if(!r&&!a||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var s;let t,a=e.currentTarget,[i,o]=[$(t=W(s=a),s),$(t.reverse(),s)];i&&o?e.shiftKey||n!==o?e.shiftKey&&n===i&&(e.preventDefault(),r&&M(o,{select:!0})):(e.preventDefault(),r&&M(i,{select:!0})):n===a&&e.preventDefault()}},[r,a,h.paused]);return(0,n.jsx)(F.Primitive.div,{tabIndex:-1,...l,ref:p,onKeyDown:x})});function W(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function M(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}H.displayName="FocusScope";var K=(t=[],{add(e){let r=t[0];e!==r&&r?.pause(),(t=U(t,e)).unshift(e)},remove(e){t=U(t,e),t[0]?.resume()}});function U(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var Y=e.i(8928),z=e.i(61041),V=s.forwardRef((e,t)=>{let{container:r,...a}=e,[i,o]=s.useState(!1);(0,z.useLayoutEffect)(()=>o(!0),[]);let l=r||i&&globalThis?.document?.body;return l?Y.default.createPortal((0,n.jsx)(F.Primitive.div,{...a,ref:t}),l):null});V.displayName="Portal";var q=e.i(61826),X=e.i(72686),Z=e.i(3927),G=e.i(56505),J=s.forwardRef((e,t)=>{let{children:r,...a}=e,i=s.Children.toArray(r),o=i.find(et);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(Q,{...a,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,n.jsx)(Q,{...a,ref:t,children:r})});J.displayName="Slot";var Q=s.forwardRef((e,t)=>{let{children:r,...n}=e;if(s.isValidElement(r)){var a;let e,i,o=(a=r,(i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(i=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),l=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{a(...e),s(...e)}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==s.Fragment&&(l.ref=t?(0,E.composeRefs)(t,o):o),s.cloneElement(r,l)}return s.Children.count(r)>1?s.Children.only(null):null});Q.displayName="SlotClone";var ee=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function et(e){return s.isValidElement(e)&&e.type===ee}var er="Dialog",[en,es]=(0,C.createContextScope)(er),[ea,ei]=en(er),eo=e=>{let{__scopeDialog:t,children:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=s.useRef(null),c=s.useRef(null),[u=!1,m]=(0,P.useControllableState)({prop:a,defaultProp:i,onChange:o});return(0,n.jsx)(ea,{scope:t,triggerRef:d,contentRef:c,contentId:(0,R.useId)(),titleId:(0,R.useId)(),descriptionId:(0,R.useId)(),open:u,onOpenChange:m,onOpenToggle:s.useCallback(()=>m(e=>!e),[m]),modal:l,children:r})};eo.displayName=er;var el="DialogTrigger",ed=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ei(el,r),i=(0,E.useComposedRefs)(t,a.triggerRef);return(0,n.jsx)(F.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eP(a.open),...s,ref:i,onClick:(0,D.composeEventHandlers)(e.onClick,a.onOpenToggle)})});ed.displayName=el;var ec="DialogPortal",[eu,em]=en(ec,{forceMount:void 0}),ef=e=>{let{__scopeDialog:t,forceMount:r,children:a,container:i}=e,o=ei(ec,t);return(0,n.jsx)(eu,{scope:t,forceMount:r,children:s.Children.map(a,e=>(0,n.jsx)(q.Presence,{present:r||o.open,children:(0,n.jsx)(V,{asChild:!0,container:i,children:e})}))})};ef.displayName=ec;var ep="DialogOverlay",eh=s.forwardRef((e,t)=>{let r=em(ep,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ei(ep,e.__scopeDialog);return i.modal?(0,n.jsx)(q.Presence,{present:s||i.open,children:(0,n.jsx)(ex,{...a,ref:t})}):null});eh.displayName=ep;var ex=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ei(ep,r);return(0,n.jsx)(Z.RemoveScroll,{as:J,allowPinchZoom:!0,shards:[a.contentRef],children:(0,n.jsx)(F.Primitive.div,{"data-state":eP(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ev="DialogContent",eg=s.forwardRef((e,t)=>{let r=em(ev,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ei(ev,e.__scopeDialog);return(0,n.jsx)(q.Presence,{present:s||i.open,children:i.modal?(0,n.jsx)(ey,{...a,ref:t}):(0,n.jsx)(eb,{...a,ref:t})})});eg.displayName=ev;var ey=s.forwardRef((e,t)=>{let r=ei(ev,e.__scopeDialog),a=s.useRef(null),i=(0,E.useComposedRefs)(t,r.contentRef,a);return s.useEffect(()=>{let e=a.current;if(e)return(0,G.hideOthers)(e)},[]),(0,n.jsx)(ej,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,D.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,D.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,D.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),eb=s.forwardRef((e,t)=>{let r=ei(ev,e.__scopeDialog),a=s.useRef(!1),i=s.useRef(!1);return(0,n.jsx)(ej,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),ej=s.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,d=ei(ev,r),c=s.useRef(null),u=(0,E.useComposedRefs)(t,c);return(0,X.useFocusGuards)(),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,n.jsx)(T,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":eP(d.open),...l,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eO,{titleId:d.titleId}),(0,n.jsx)(eT,{contentRef:c,descriptionId:d.descriptionId})]})]})}),eN="DialogTitle",ew=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ei(eN,r);return(0,n.jsx)(F.Primitive.h2,{id:a.titleId,...s,ref:t})});ew.displayName=eN;var eC="DialogDescription",eE=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ei(eC,r);return(0,n.jsx)(F.Primitive.p,{id:a.descriptionId,...s,ref:t})});eE.displayName=eC;var eD="DialogClose",eR=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ei(eD,r);return(0,n.jsx)(F.Primitive.button,{type:"button",...s,ref:t,onClick:(0,D.composeEventHandlers)(e.onClick,()=>a.onOpenChange(!1))})});function eP(e){return e?"open":"closed"}eR.displayName=eD;var eF="DialogTitleWarning",[eS,eL]=(0,C.createContext)(eF,{contentName:ev,titleName:eN,docsSlug:"dialog"}),eO=({titleId:e})=>{let t=eL(eF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},eT=({contentRef:e,descriptionId:t})=>{let r=eL("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return s.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},eA="AlertDialog",[e_,eI]=(0,C.createContextScope)(eA,[es]),ek=es(),eB=e=>{let{__scopeAlertDialog:t,...r}=e,s=ek(t);return(0,n.jsx)(eo,{...s,...r,modal:!0})};eB.displayName=eA;var eH=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=ek(r);return(0,n.jsx)(ed,{...a,...s,ref:t})});eH.displayName="AlertDialogTrigger";var eW=e=>{let{__scopeAlertDialog:t,...r}=e,s=ek(t);return(0,n.jsx)(ef,{...s,...r})};eW.displayName="AlertDialogPortal";var e$=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=ek(r);return(0,n.jsx)(eh,{...a,...s,ref:t})});e$.displayName="AlertDialogOverlay";var eM="AlertDialogContent",[eK,eU]=e_(eM),eY=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:a,...i}=e,o=ek(r),l=s.useRef(null),d=(0,E.useComposedRefs)(t,l),c=s.useRef(null);return(0,n.jsx)(eS,{contentName:eM,titleName:ez,docsSlug:"alert-dialog",children:(0,n.jsx)(eK,{scope:r,cancelRef:c,children:(0,n.jsxs)(eg,{role:"alertdialog",...o,...i,ref:d,onOpenAutoFocus:(0,D.composeEventHandlers)(i.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,n.jsx)(ee,{children:a}),(0,n.jsx)(eQ,{contentRef:l})]})})})});eY.displayName=eM;var ez="AlertDialogTitle",eV=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=ek(r);return(0,n.jsx)(ew,{...a,...s,ref:t})});eV.displayName=ez;var eq="AlertDialogDescription",eX=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=ek(r);return(0,n.jsx)(eE,{...a,...s,ref:t})});eX.displayName=eq;var eZ=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=ek(r);return(0,n.jsx)(eR,{...a,...s,ref:t})});eZ.displayName="AlertDialogAction";var eG="AlertDialogCancel",eJ=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=eU(eG,r),i=ek(r),o=(0,E.useComposedRefs)(t,a);return(0,n.jsx)(eR,{...i,...s,ref:o})});eJ.displayName=eG;var eQ=({contentRef:e})=>{let t=`\`${eM}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${eM}\` by passing a \`${eq}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${eM}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},e0=e.i(2563);let e1=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(e$,{className:(0,e0.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));e1.displayName=e$.displayName;let e5=s.forwardRef(({className:e,...t},r)=>(0,n.jsxs)(eW,{children:[(0,n.jsx)(e1,{}),(0,n.jsx)(eY,{ref:r,className:(0,e0.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));e5.displayName=eY.displayName;let e2=({className:e,...t})=>(0,n.jsx)("div",{className:(0,e0.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});e2.displayName="AlertDialogHeader";let e4=({className:e,...t})=>(0,n.jsx)("div",{className:(0,e0.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});e4.displayName="AlertDialogFooter";let e3=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eV,{ref:r,className:(0,e0.cn)("text-lg font-semibold",e),...t}));e3.displayName=eV.displayName;let e6=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eX,{ref:r,className:(0,e0.cn)("text-sm text-muted-foreground",e),...t}));e6.displayName=eX.displayName;let e7=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eZ,{ref:r,className:(0,e0.cn)((0,i.buttonVariants)(),e),...t}));e7.displayName=eZ.displayName;let e9=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eJ,{ref:r,className:(0,e0.cn)((0,i.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));function e8(){let{profile:e,updateProfile:t}=(0,a.useAuth)(),r=(0,N.useRouter)(),[j,C]=(0,s.useState)(""),[E,D]=(0,s.useState)(""),[R,P]=(0,s.useState)(""),[F,S]=(0,s.useState)(!1),[L,O]=(0,s.useState)([]),[T,A]=(0,s.useState)(!0),[_,I]=(0,s.useState)(!1),[k,B]=(0,s.useState)("donation"),{toast:H}=(0,u.useToast)();(0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("upgrade"),n=e.get("donation");"success"===t?(B("subscription"),I(!0),r.replace(r.pathname,void 0,{shallow:!0})):"success"===n?(B("donation"),I(!0),r.replace(r.pathname,void 0,{shallow:!0})):("canceled"===t||"canceled"===n)&&(H({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"destructive"}),r.replace(r.pathname,void 0,{shallow:!0}))},[r,H]),(0,s.useEffect)(()=>{e&&(C(e.full_name||""),D(e.phone||""),P(e.address||""),W())},[e]);let W=async()=>{try{let{data:t,error:r}=await b.supabase.from("donations").select("*").eq("user_id",e?.id).eq("status","completed").order("created_at",{ascending:!1}).limit(10);if(r)throw r;O(t||[])}catch(e){console.error("Error fetching donations:",e)}finally{A(!1)}},$=L.reduce((e,t)=>e+Number(t.amount),0),M=L.filter(e=>e.is_recurring&&"active"===e.subscription_status).reduce((e,t)=>(e.find(e=>e.stripe_subscription_id===t.stripe_subscription_id)||e.push(t),e),[]),K=async e=>{try{let{error:t}=await b.supabase.functions.invoke("cancel-subscription",{body:{subscriptionId:e}});if(t)throw t;H({title:"Subscription Canceled",description:"Your recurring donation has been canceled."}),W()}catch(e){H({title:"Error",description:e.message,variant:"destructive"})}},U=async e=>{e.preventDefault(),S(!0);try{await t({full_name:j,phone:E,address:R}),H({title:"Success!",description:"Your profile has been updated."})}catch(e){H({title:"Error",description:e.message,variant:"destructive"})}finally{S(!1)}};return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[_&&(0,n.jsx)(w,{type:k,onClose:()=>I(!1)}),(0,n.jsx)(m.default,{}),(0,n.jsx)("main",{className:"flex-1 container mx-auto px-4 py-12",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,n.jsxs)(d.Card,{children:[(0,n.jsxs)(d.CardHeader,{children:[(0,n.jsx)(d.CardTitle,{children:"Account Overview"}),(0,n.jsx)(d.CardDescription,{children:"Your ReFURRM membership details"})]}),(0,n.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{className:"text-sm text-gray-600",children:"Role"}),(0,n.jsx)("div",{className:"mt-1",children:(e=>{switch(e){case"ambassador":return(0,n.jsxs)(c.Badge,{className:"bg-gradient-to-r from-[#315E47] to-[#50E3E3] text-white",children:[(0,n.jsx)(p.Crown,{className:"w-3 h-3 mr-1"}),"Ambassador"]});case"admin":return(0,n.jsxs)(c.Badge,{className:"bg-red-600",children:[(0,n.jsx)(p.Crown,{className:"w-3 h-3 mr-1"}),"Admin"]});case"buyer":return(0,n.jsxs)(c.Badge,{className:"bg-blue-600",children:[(0,n.jsx)(h.Zap,{className:"w-3 h-3 mr-1"}),"Buyer"]});case"volunteer":return(0,n.jsxs)(c.Badge,{className:"bg-green-600",children:[(0,n.jsx)(x.Users,{className:"w-3 h-3 mr-1"}),"Volunteer"]});case"family":return(0,n.jsxs)(c.Badge,{className:"bg-primary-600",children:[(0,n.jsx)(x.Users,{className:"w-3 h-3 mr-1"}),"Family"]});default:return(0,n.jsx)(c.Badge,{children:e})}})(e?.role||"")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{className:"text-sm text-gray-600",children:"Subscription Plan"}),(0,n.jsx)("div",{className:"mt-1",children:"pro"===e?.subscription_tier?(0,n.jsx)(c.Badge,{className:"bg-[#50E3E3] text-white",children:"Pro - $29/month"}):(0,n.jsx)(c.Badge,{variant:"outline",children:"Community - Free"})})]})]}),e?.role==="ambassador"&&(0,n.jsx)("div",{className:"p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg border border-emerald-200",children:(0,n.jsxs)("p",{className:"text-sm text-emerald-800",children:[(0,n.jsx)(p.Crown,{className:"w-4 h-4 inline mr-1"}),"You are an approved Ambassador with access to leadership tools and rescue coordination features."]})})]})]}),(0,n.jsxs)(d.Card,{children:[(0,n.jsxs)(d.CardHeader,{children:[(0,n.jsx)(d.CardTitle,{children:"Profile Settings"}),(0,n.jsx)(d.CardDescription,{children:"Manage your personal information"})]}),(0,n.jsx)(d.CardContent,{children:(0,n.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.Label,{htmlFor:"email",children:"Email"}),(0,n.jsx)(o.Input,{id:"email",value:e?.email||"",disabled:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.Label,{htmlFor:"fullName",children:"Full Name"}),(0,n.jsx)(o.Input,{id:"fullName",value:j,onChange:e=>C(e.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.Label,{htmlFor:"phone",children:"Phone"}),(0,n.jsx)(o.Input,{id:"phone",type:"tel",value:E,onChange:e=>D(e.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.Label,{htmlFor:"address",children:"Address"}),(0,n.jsx)(o.Input,{id:"address",value:R,onChange:e=>P(e.target.value)})]}),(0,n.jsx)(i.Button,{type:"submit",disabled:F,children:F?"Saving...":"Save Changes"})]})})]}),M.length>0&&(0,n.jsxs)(d.Card,{children:[(0,n.jsxs)(d.CardHeader,{children:[(0,n.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,n.jsx)(g.Calendar,{className:"w-5 h-5 text-blue-500"}),"Recurring Donations"]}),(0,n.jsx)(d.CardDescription,{children:"Manage your automatic monthly or annual donations"})]}),(0,n.jsx)(d.CardContent,{children:(0,n.jsx)("div",{className:"space-y-4",children:M.map(e=>(0,n.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-primary-50 rounded-lg border border-blue-200",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"font-bold text-lg text-[#315E47]",children:["$",Number(e.amount).toFixed(2)," / ","monthly"===e.frequency?"month":"year"]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Started ",new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),(0,n.jsx)(c.Badge,{className:"mt-2 bg-green-100 text-green-700 border-green-300",children:"Active"})]}),(0,n.jsxs)(eB,{children:[(0,n.jsx)(eH,{asChild:!0,children:(0,n.jsxs)(i.Button,{variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",children:[(0,n.jsx)(y.X,{className:"w-4 h-4 mr-1"}),"Cancel"]})}),(0,n.jsxs)(e5,{children:[(0,n.jsxs)(e2,{children:[(0,n.jsx)(e3,{children:"Cancel Recurring Donation?"}),(0,n.jsxs)(e6,{children:["Are you sure you want to cancel this $",Number(e.amount).toFixed(2)," ",e.frequency," donation? You can always set up a new recurring donation later."]})]}),(0,n.jsxs)(e4,{children:[(0,n.jsx)(e9,{children:"Keep Donation"}),(0,n.jsx)(e7,{onClick:()=>K(e.stripe_subscription_id),className:"bg-red-600 hover:bg-red-700",children:"Cancel Donation"})]})]})]})]},e.id))})})]}),(0,n.jsxs)(d.Card,{children:[(0,n.jsxs)(d.CardHeader,{children:[(0,n.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,n.jsx)(v.Heart,{className:"w-5 h-5 text-red-500"}),"Your Donation History"]}),(0,n.jsxs)(d.CardDescription,{children:["Total donated: $",$.toFixed(2)]})]}),(0,n.jsx)(d.CardContent,{children:T?(0,n.jsx)("p",{className:"text-gray-500",children:"Loading donations..."}):0===L.length?(0,n.jsx)("p",{className:"text-gray-500",children:"No donations yet. Thank you for considering supporting our mission!"}):(0,n.jsx)("div",{className:"space-y-3",children:L.map(e=>(0,n.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"font-semibold text-[#315E47]",children:["$",Number(e.amount).toFixed(2)]}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,n.jsx)(c.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Completed"})]},e.id))})})]})]})}),(0,n.jsx)(f.default,{})]})}e9.displayName=eJ.displayName,e.s(["default",()=>e8],54144)},11917,(e,t,r)=>{let n="/Profile";(window.__NEXT_P=window.__NEXT_P||[]).push([n,()=>e.r(54144)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([n])})}]);